$animate-timing: ease-in-out
$animate-time: 200ms
$form-border: 2px solid #ebebeb
$border-radius: 0px
$field-padding: .618rem
$light-gray: #767676
$text-color: #333338
$highlight: $text
$dark-highlight: $accent
$light-background: #fafafa

@mixin desktop
  @media (min-width: 670px)
    @content

.section.section_form-container
  height: auto
  overflow: auto

label
  font-size: ms(0)
  line-height: 1.5em
  font-family: $sans

  h3
    margin-bottom: 0.25em

form
  margin: 1em auto
  width: 95%
  text-align: left
  
  @include desktop
    max-width: 43.24878rem
    margin-left: auto
    margin-right: auto
  
  div
    margin: 1em 0
    position: relative
    transition: margin $animate-time ease-in-out
    -webkit-transform: translate3d(0, 0, 0)
    transform: translateZ(0)
    
    label
      font-size: ms(0)
      font-weight: 400
      line-height: 1.5em
      font-family: $sans
      color: $light-gray
      position: absolute
      left: calc(.618em + 2px)
      top: calc(.618em + 2px)
      transition: top $animate-time ease-in-out, left $animate-time ease-in-out, color $animate-time ease-in-out

      -webkit-transform: translate3d(0, 0, 0)
      transform: translateZ(0)
    
    &.active,
    &.complete
      margin-top: 2.618em
      
      &::first-of-type
        margin-top: 1em
      
      label
        left: 0
        top: -1.618em
        color: $text

  h3
    color: $text

input[type="text"],
input[type="email"],
input[type="tel"],
input[type="url"],
textarea
  -webkit-appearance: none
  width: 100%
  padding: $field-padding
  font-size: ms(0)
  border-radius: $border-radius
  border: $form-border
  transition: border $animate-time $animate-timing
  font-size: ms(0)
  line-height: 1.5em
  font-family: $sans
  
  &:focus
    outline: none
    border-color: $brand

input[type="submit"],
input[type="reset"],
input[type="button"],
button
  background: none
  border: 0
  border-radius: 0
  color: $background
  font: inherit
  font-weight: 400
  line-height: normal
  overflow: visible
  padding: 0
  margin-top: 1em
  display: block
  cursor: pointer
  -webkit-user-select: none
  -moz-user-select: none
  -ms-user-select: none
  border-bottom: 2px solid currentColor

.brand-questionnaire input[type="submit"]
  color: $text

  &:hover
    color: $brand

input::-moz-focus-inner,
button::-moz-focus-inner
  border: 0
  padding: 0

textarea
  margin-top: 0.5rem

textarea + label,
div + label
  margin-top: 1em
  display: block

input[type="checkbox"]
  width: 2em
  position: relative
  overflow: hidden
  margin: 0 0.9em 0 0
  padding: 0
  border: 0
  outline: 0
  opacity: 0

  & + label
    position: relative
    -webkit-transform: translate3d(0, 0, 0)
    transform: translateZ(0)
    color: $background

    &::before
      content: ""
      width: 1.2em
      height: 1.2em
      display: block
      position: absolute
      top: 0
      left: -1.8em
      border: $form-border
      border-radius: $border-radius
      background: transparent
      vertical-align: top
      box-sizing: border-box
      -webkit-transform: translate3d(0, 0, 0)
      transform: translateZ(0)
      transition: border $animate-time $animate-timing, transform $animate-time $animate-timing, background $animate-time $animate-timing, height $animate-time $animate-timing
  
  &:focus
    outline: 0

    & + label::before
      border-color: $highlight
    
  &:checked
  
    & + label::before
      border-color: $text
      border-top: 0
      border-right: 0
      border-radius: 0
      -webkit-transform: translate3d(0, 0, 0)
      transform: rotate(-45deg)
      height: 0.618em
      background: transparent
   
  &:checked:focus

    & + label::before
      border-color: $background

fieldset
  border: none
  padding: 0
  margin: 0 0 1em

  h3
    margin-bottom: 0.25em
  
legend
  float: left
  width: 100%
  display: block
  margin-bottom: 1em
  font-size: ms(0)

  span
    color: $background
    font-weight: 300

p.thanks
  display: none
  visibility: hidden

  &.display
    display: initial
    visibility: visible
    margin-bottom: ms(3)
